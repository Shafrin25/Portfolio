<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shafrin | Portfolio</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<style>
:root{
  --bg-dark:#0f172a;
  --text-light:#f8fafc;
  --highlight:#38bdf8;
}

/* RESET */
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
}

/* BODY BACKGROUND */
body{
  min-height:100vh;
  font-family:'Segoe UI', sans-serif;
  color:var(--text-light);

  background-color:var(--bg-dark);
  background-image:url('image.jpeg');
  background-size:cover;
  background-position:center;
  background-attachment:fixed;
  background-repeat:no-repeat;
  background-blend-mode:overlay;
}

/* ================= NAVBAR ================= */
nav{
  position:sticky;
  top:0;
  z-index:100;
  background:#0f172a;
  padding:1rem 2.5rem;
}

.nav-wrapper{
  display:flex;
  align-items:center;
  justify-content:space-between;
}

/* LOGO IMAGE */
.logo-img{
  height:60px; /* unchanged */
  object-fit:contain;
}

/* MENU */
.nav-center{
  display:flex;
  gap:3rem;
}

.nav-center button{
  background:none;
  border:none;
  color:white;
  font-size:1.1rem; /* unchanged */
  font-weight:500;
  cursor:pointer;
  transition:0.3s;
}

.nav-center button:hover{
  color:var(--highlight);
}

/* ✅ ONLY CHANGE IS HERE */
.contact-img{
  height:70px;      /* ⬅ increased from 48px */
  cursor:pointer;
  transition:0.3s ease;
}

.contact-img:hover{
  transform:scale(1.05);
}
 #home {
      height: 100vh;
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #home img {
      width: 70%;
      max-width: 700px;
      filter: drop-shadow(0px 0px 15px rgba(255,255,255,0.3));
    }
  #intro{
  margin:0;
  background:url("image.jpeg") center/cover fixed no-repeat;
  background-color:rgba(0,0,0,0.75);
  background-blend-mode:overlay;
  font-family:'Gloria Hallelujah', cursive;
  overflow-x:hidden;
}

.layout{
  position:relative;
  height:100vh;
}

/* editor */
.editor-element{
  position:absolute;
  cursor:move;
  user-select:none;
}

.resize-handle{
  width:15px;
  height:15px;
  background:white;
  border:2px solid black;
  position:absolute;
  bottom:-10px;
  right:-10px;
  cursor:se-resize;
}

.rotate-handle{
  width:20px;
  height:20px;
  background:#1e90ff;
  border-radius:50%;
  border:2px solid white;
  position:absolute;
  top:-30px;
  left:50%;
  transform:translateX(-50%);
  cursor:grab;
}

.editor-text{
  color:#7dcffa;
  font-size:1.9rem;
  text-align:center;
  font-family:'Gloria Hallelujah', cursive;

  line-height:1.6;
}

/* freeze button */
.freeze-btn{
  position:fixed;
  top:20px;
  right:20px;
  padding:10px 18px;
  border:none;
  border-radius:10px;
  background:#22c55e;
  font-weight:bold;
  cursor:pointer;
  z-index:9999;
}
intro1{
  margin:0;
  min-height:100vh;
  background:
    linear-gradient(rgba(5,10,25,0.85), rgba(5,10,25,0.85)),
    url("image.jpeg") center/cover no-repeat;
  font-family:'Gloria Hallelujah', cursive;
  color:#56c0e7;
  overflow:hidden;
}

.slide3{
  position:relative;
  min-height:100vh;
}

/* text */
.text-box{
  max-width:780px;
  font-size:1.3rem;
  line-height:2.1rem;
}
.second{ margin-left:40px; }

/* editor */
.editor{
  position:absolute;
  cursor:move;
  transform-origin:center;
}

/* handles */
.rotate-handle{
  position:absolute;
  top:-22px;
  left:50%;
  transform:translateX(-50%);
  width:12px;
  height:12px;
  background:#60a5fa;
  border-radius:50%;
  cursor:grab;
}
.resize-handle{
  position:absolute;
  width:10px;
  height:10px;
  background:#fff;
  border:1px solid #000;
  right:-5px;
  bottom:-5px;
  cursor:se-resize;
}

/* freeze button */
.freeze-btn{
  position:fixed;
  top:20px;
  right:20px;
  padding:10px 16px;
  border:none;
  border-radius:10px;
  background:#22c55e;
  font-weight:bold;
  cursor:pointer;
  z-index:9999;
}

/* book float */
.editor.book-3d img{
  animation:bookFloat 6s ease-in-out infinite;
  filter:drop-shadow(0 25px 35px rgba(0,0,0,0.6));
}
@keyframes bookFloat{
  0%{transform:translateY(0) rotateX(6deg)}
  50%{transform:translateY(-12px) rotateX(10deg)}
  100%{transform:translateY(0) rotateX(6deg)}
}

/* hero arrow */
.editor.arrow-hero-3d{perspective:1400px}
.editor.arrow-hero-3d img{
  animation:arrowHero 7s ease-in-out infinite;
  filter:drop-shadow(0 40px 50px rgba(0,0,0,0.7));
}
@keyframes arrowHero{
  0%{transform:rotateY(0)}
  50%{transform:rotateY(20deg)}
  100%{transform:rotateY(0)}
}
</style>
</head>

<body>

<!-- NAVBAR -->
<nav>
  <div class="nav-wrapper">

    <!-- LOGO IMAGE -->
    <img src="name.png" class="logo-img" alt="Name Logo">

    <!-- MENU -->
    <div class="nav-center">
      <button>Home</button>
      <button>About</button>
      <button>Skills</button>
      <button>Projects</button>
    </div>

    <!-- CONTACT IMAGE BUTTON -->
    <img src="contact.png" class="contact-img" alt="Contact Button">

  </div>
</nav>
<section id="home">
  <img src="welcome.png" alt="Welcome Banner">
</section>
<div class="layout">

  <!-- HEY IMAGE -->
  <div class="editor-element" data-id="hey" style="top:20%; left:45%; width:280px; height:200px;">
    <img src="hey.png" style="width:100%;height:100%;object-fit:contain;">
    <div class="resize-handle"></div>
    <div class="rotate-handle"></div>
  </div>

  <!-- RESUME -->
  <div class="editor-element" data-id="resume" style="top:12%; left:70%; width:160px; height:160px;">
    <img src="Click Me Resume.png" style="width:100%;height:100%;object-fit:contain;">
    <div class="resize-handle"></div>
    <div class="rotate-handle"></div>
  </div>

  <!-- DOLL VIDEO -->
  <div class="editor-element" data-id="doll" style="top:22%; left:75%; width:320px; height:320px;">
    <video src="doll.webm" autoplay loop muted playsinline
      style="width:100%;height:100%;object-fit:contain;"></video>
    <div class="resize-handle"></div>
    <div class="rotate-handle"></div>
  </div>

  <!-- TEXT -->
  <div class="editor-element editor-text" data-id="intro-text" contenteditable="true"
       style="top:65%; left:30%; width:500px; height:150px;">
    Hi, I'm Shafrin M – a curious creator and problem-solver<br>
    who loves transforming ideas into experiences that feel<br>
    simple, thoughtful, and delightfully human.
    <div class="resize-handle"></div>
    <div class="rotate-handle"></div>
  </div>

</div>
<section class="slide3">

  <div class="editor" data-id="t1" style="top:80px; left:100px;">
    <div class="rotate-handle"></div>
    <div class="resize-handle"></div>
    <p class="text-box" contenteditable="true">
      I blend creativity, empathy, and logic to<br>
      build digital experiences that make people smile and<br>
      think. From designing intuitive interfaces to crafting<br>
      data-powered solutions, I enjoy turning complex<br>
      problems into elegant, user-friendly outcomes.
    </p>
  </div>

  <div class="editor" data-id="t2" style="top:300px; left:140px;">
    <div class="rotate-handle"></div>
    <div class="resize-handle"></div>
    <p class="text-box second" contenteditable="true">
      Whether I’m experimenting with AI, building<br>
      interactive apps, or designing playful UI concepts, I<br>
      aim to create work that feels meaningful, joyful, and<br>
      full of imagination.
    </p>
  </div>

  <div class="editor arrow-hero-3d" data-id="arrow" style="top:120px; right:260px;">
    <div class="rotate-handle"></div>
    <div class="resize-handle"></div>
    <img src="arrow.png" width="160">
  </div>

  <div class="editor" data-id="arrow1" style="bottom:220px; left:120px;">
    <div class="rotate-handle"></div>
    <div class="resize-handle"></div>
    <img src="arrow1.png" width="140">
  </div>

  <div class="editor book-3d" data-id="book" style="bottom:140px; left:300px;">
    <div class="rotate-handle"></div>
    <div class="resize-handle"></div>
    <img src="book.png" width="130">
  </div>

  <div class="editor" data-id="resume" style="right:120px; bottom:120px;">
    <div class="rotate-handle"></div>
    <div class="resize-handle"></div>
    <img src="Click Me Resume.png" width="160">
  </div>

</section>
<script>
const elements=document.querySelectorAll('.editor-element');

/* LOAD */
elements.forEach(el=>{
  const id=el.dataset.id;
  const data=JSON.parse(localStorage.getItem(id));
  if(!data) return;

  Object.assign(el.style,{
    top:data.top,
    left:data.left,
    width:data.width,
    height:data.height,
    transform:data.transform
  });

  if(el.classList.contains('editor-text')) el.innerHTML=data.text;
});

let active=null,startX,startY,startW,startH,startL,startT,startAngle;

/* EDIT */
elements.forEach(el=>{
  const resize=el.querySelector('.resize-handle');
  const rotate=el.querySelector('.rotate-handle');

  el.addEventListener('mousedown',e=>{
    if(e.target===resize||e.target===rotate) return;
    active={el,type:'drag'};
    startX=e.clientX; startY=e.clientY;
    startL=el.offsetLeft; startT=el.offsetTop;
  });

  resize.addEventListener('mousedown',e=>{
    e.stopPropagation();
    active={el,type:'resize'};
    startX=e.clientX; startY=e.clientY;
    startW=el.offsetWidth; startH=el.offsetHeight;
  });

  rotate.addEventListener('mousedown',e=>{
    e.stopPropagation();
    active={el,type:'rotate'};
    const r=el.getBoundingClientRect();
    startAngle=Math.atan2(
      e.clientY-(r.top+r.height/2),
      e.clientX-(r.left+r.width/2)
    )*180/Math.PI;
  });
});

document.addEventListener('mousemove',e=>{
  if(!active) return;
  const el=active.el;

  if(active.type==='drag'){
    el.style.left=startL+(e.clientX-startX)+'px';
    el.style.top=startT+(e.clientY-startY)+'px';
  }
  if(active.type==='resize'){
    el.style.width=startW+(e.clientX-startX)+'px';
    el.style.height=startH+(e.clientY-startY)+'px';
  }
  if(active.type==='rotate'){
    const r=el.getBoundingClientRect();
    const ang=Math.atan2(
      e.clientY-(r.top+r.height/2),
      e.clientX-(r.left+r.width/2)
    )*180/Math.PI;
    el.style.transform=`rotate(${ang-startAngle}deg)`;
  }
});

document.addEventListener('mouseup',()=>{
  if(!active) return;
  save(active.el);
  active=null;
});

function save(el){
  localStorage.setItem(el.dataset.id,JSON.stringify({
    top:el.style.top,
    left:el.style.left,
    width:el.style.width,
    height:el.style.height,
    transform:el.style.transform,
    text:el.classList.contains('editor-text')?el.innerHTML:null
  }));
}

/* FREEZE */
function freezeLayout(){
  localStorage.setItem('introFrozen','true');
  elements.forEach(el=>{
    el.style.pointerEvents='none';
    el.querySelectorAll('.resize-handle,.rotate-handle')
      .forEach(h=>h.remove());
  });
  document.querySelector('.freeze-btn').remove();
  alert('Layout frozen permanently ✔');
}

/* RESTORE FREEZE */
if(localStorage.getItem('introFrozen')){
  elements.forEach(el=>{
    el.style.pointerEvents='none';
    el.querySelectorAll('.resize-handle,.rotate-handle')
      .forEach(h=>h.remove());
  });
  document.querySelector('.freeze-btn')?.remove();
}
</script>
<script>
/* ===== LOAD SAVED ===== */
const saved = JSON.parse(localStorage.getItem('slide3Frozen'));
if(saved){
  document.querySelectorAll('.editor').forEach((el,i)=>{
    const d=saved[i];
    el.style.top=d.top+'px';
    el.style.left=d.left+'px';
    if(d.width) el.querySelector('img').style.width=d.width+'px';
    if(d.fontSize) el.querySelector('p').style.fontSize=d.fontSize;
    el.style.pointerEvents='none';
    el.querySelectorAll('.rotate-handle,.resize-handle').forEach(h=>h.remove());
  });
  document.querySelector('.freeze-btn')?.remove();
}

/* ===== DRAG ===== */
interact('.editor').draggable({
  listeners:{
    move(e){
      if(saved) return;
      const t=e.target;
      t.dataset.x=(+t.dataset.x||0)+e.dx;
      t.dataset.y=(+t.dataset.y||0)+e.dy;
      t.style.transform=`translate(${t.dataset.x}px,${t.dataset.y}px)`;
    }
  }
});

/* ===== ROTATE ===== */
interact('.rotate-handle').draggable({
  listeners:{
    move(e){
      if(saved) return;
      const el=e.target.parentElement;
      el.dataset.a=(+el.dataset.a||0)+e.dx*0.5;
      el.style.transform=`rotate(${el.dataset.a}deg)`;
    }
  }
});

/* ===== RESIZE ===== */
interact('.resize-handle').draggable({
  listeners:{
    move(e){
      if(saved) return;
      const box=e.target.parentElement;
      const el=box.querySelector('img,p');
      if(el.tagName==='IMG'){
        el.style.width=(el.offsetWidth+e.dx)+'px';
      }else{
        el.style.fontSize=(parseFloat(getComputedStyle(el).fontSize)+e.dx*0.2)+'px';
      }
    }
  }
});

/* ===== FREEZE ===== */
function freezeLayout(){
  const parent=document.querySelector('.slide3').getBoundingClientRect();
  const data=[];
  document.querySelectorAll('.editor').forEach(el=>{
    const r=el.getBoundingClientRect();
    data.push({
      top:r.top-parent.top,
      left:r.left-parent.left,
      width:el.querySelector('img')?.offsetWidth||null,
      fontSize:el.querySelector('p')
        ?getComputedStyle(el.querySelector('p')).fontSize:null
    });
    el.style.pointerEvents='none';
    el.querySelectorAll('.rotate-handle,.resize-handle').forEach(h=>h.remove());
  });
  localStorage.setItem('slide3Frozen',JSON.stringify(data));
  document.querySelector('.freeze-btn').remove();
}
</script>
</body>
</html>
